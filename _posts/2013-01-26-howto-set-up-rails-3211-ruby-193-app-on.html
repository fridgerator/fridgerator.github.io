---
layout: post
title: 'HOWTO: Set up a Rails 3.2.11 (ruby 1.9.3) app on a dreamhost shared account'
date: '2013-01-26T16:03:00.001-08:00'
author: Nick Franken
tags:
- dreamhost
- rails
- ruby
- linux
modified_time: '2013-07-21T15:17:00.291-07:00'
blogger_id: tag:blogger.com,1999:blog-6801681374945002660.post-771956137201468800
blogger_orig_url: http://fridgamarator.blogspot.com/2013/01/howto-set-up-rails-3211-ruby-193-app-on.html
---

I recently took advantage of a sweet deal at <a href="http://www.dreamhost.com/" target="_blank">Dreamhost</a> and signed up for a year of their "Shared Hosting".  Being a Railsist (??) I wanted a temporary domain / server where I could throw up my random <a href="http://rubyonrails.org/" target="_blank">Rails</a> / <a href="http://rack.github.com/" target="_blank">Rack</a> projects. &nbsp;Its definitely doable, but there is a tint of hacking involved.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://snag.gy/Agsrl.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://snag.gy/Agsrl.jpg" /></a></div>First off, go into your&nbsp;<a href="http://panel.dreamhost.com/" target="_blank">panel</a> and click "Manage Domains" section and edit the domain you want to run rails on. &nbsp;Scroll down and check the Passenger checkbox since we'll be using their pre-installed passenger setup to serve up our applications. &nbsp;Since I will be using <a href="https://github.com/capistrano/capistrano" target="_blank">Capistrano</a> to deploy my applications I also changed the 'Web directory' to /home/username/domain.name/current/public. &nbsp;This might not be necessary for you depending on your setup.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://snag.gy/aPUaD.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="64" src="http://snag.gy/aPUaD.jpg" width="320" /></a></div>Next up we're going to want to enable shell access so you can deploy your application and install some other required software. &nbsp;Go to 'Manager Users' section of the panel and click 'edit' on the user you want to allow ssh access to. &nbsp;Change the 'account type' to Shell account instead of the default FTP account.<br /><br />Now create a mysql database (unless you plan on using sqlite). &nbsp;Click into "Mysql Database" and add a new one. &nbsp;Note that you will not be able to connect to the database via localhost or the socket file, so you will have to add whatever hostname you chose to your production database.yml file.<br /><br />You'll see a warning that it might take 5-10 minutes for the settings to change, one that happens then you can proceed.<br /><br />By default, Dreamhost only has Ruby 1.8.7 installed :( &nbsp;Go ahead and ssh into your shell and we'll start by installing <a href="https://rvm.io/" target="_blank">RVM</a> and the latest ruby. &nbsp;Run the command <code><span style="background-color: white; font-size: inherit; line-height: 22.390625px;">\curl -L https://get.rvm.io | bash -s stable --ruby</span></code> to install both in one shot. &nbsp;I usually do a <code>rvm use default 1.9.3</code> just be sure I'll be using the correct ruby version, but this might not be necessary.<br /><span style="background-color: white; font-size: inherit; line-height: 22.390625px;"><br /></span><span style="background-color: white; font-size: inherit; line-height: 22.390625px;">When thats finished go ahead and insall the Rails, mysql and therubyracer gems&nbsp;<code>gem install rails mysql2 therubyracer</code>.&nbsp;</span><br /><span style="background-color: white; font-size: inherit; line-height: 22.390625px;"><br /></span><span style="background-color: white; font-size: inherit; line-height: 22.390625px;">We're also going to want to install <a href="http://node.js/" target="_blank">node.js</a> for our javascipt runtime and compilation. &nbsp;In your home directory, create a downloads folder <code>mkdir downloads; cd downloads</code> . &nbsp;</span><span style="background-color: white; font-size: inherit; line-height: 22.390625px;">&nbsp; We're also going to need a ~/usr/local/bin dir to store the node binaries <code>mkdir -p ~/usr/local/bin</code>. Grab the latest node.js source from github <code>git clone git://github.com/ry/node.git; cd node</code>. &nbsp;Make that shit <code>./configure --prefix=~/usr/local; make; make install</code> and add our the bin directory we created to the environment path by adding <code>export PATH=$PATH:/home/USERNAME/usr/local/bin</code> to both .bashrc and .bash_profile replacing USERNAME with your account username. &nbsp;Now close your connection and re-connect to check if node installed correctly with <code>node -v</code> .</span> <br /><span style="background-color: white; font-size: inherit; line-height: 22.390625px;"><br /></span><span style="background-color: white; font-size: inherit; line-height: 22.390625px;">You now have an up to date Rails server with the latest Ruby and Node versions installed.</span>